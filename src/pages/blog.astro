---
import BaseLayout from '../layouts/BaseLayout.astro';
import BlogCard from '../components/BlogCard.astro';

const AllPosts = await Astro.glob('../pages/posts/*.md');
const sortedAllPost = AllPosts.sort(function(a, b) { return Date.parse(b.frontmatter.pubDate) - Date.parse(a.frontmatter.pubDate) })
const pageTitle = "Blog";
---

<BaseLayout pageTitle={pageTitle}>
  <div class="max-w-screen-sm mx-auto p-4">
    <h1 class="mt-16 text-2xl font-semibold font-mono">Blog.</h1>
    <div class="mt-16">
      <div class="mt-4 grid grid-cols-1 gap-6 mb-12">
        { sortedAllPost.map((post) => <BlogCard post={post} />) }
      </div>
    </div>
  </div>
</BaseLayout>
